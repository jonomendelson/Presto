<!--
  Generated template for the DetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-buttons start> 
      <button ion-button id="backButton" (click)="viewCtrl.dismiss([], '[noadd]');"><ion-icon name="close" style="font-size:32px;"></ion-icon></button>
    </ion-buttons>
    <ion-title>Details</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="dark">
	<div class="itemInfo">
		<div *ngIf="item.imageSrc != null">
			<div class="cropContainer">
				<img class="foodImage" [src]="item.imageSrc">
			</div>
			<div class="paddingClass">
			</div>
		</div>

		<div class="itemName">{{item.name}}</div>
		<!--<div class="itemPrice">${{item.price.toFixed(2)}}</div>-->
		<div *ngIf="optionSections.length !== 0"><hr></div>
		<div class="itemDescription">{{item.description}}</div>
	</div>
	<div class="optionSectionBox" *ngFor="let os of optionSections">
		<div class="categoryHeader">{{os.name.toLowerCase()}}</div>
		<div *ngIf="os.radio === 0">
			<div *ngFor="let o of os.itemIds">
			
				<div *ngIf="indexOfOption(o) !== -1">
					<div class="optionBox optionBoxActive" (click)="addOption(o, os.radio, os.order);">
						<div class="optionIcon optionIconActive"><ion-icon name="checkbox"></ion-icon></div>
						<div *ngIf="menu[o].name.length < 28">
							<div class="optionName">{{menu[o].name}}</div>
						</div>
						<div *ngIf="menu[o].name.length >= 28">
							<div class="optionNameSmall">{{menu[o].name}}</div>
						</div>
						<div class="optionPrice">+${{menu[o].price.toFixed(2)}}</div>
					</div>
				</div>
				<div *ngIf="indexOfOption(o) === -1">
					<div class="optionBox" (click)="addOption(o, os.radio, os.order);">
						<div class="optionIcon"><ion-icon name="checkbox-outline"></ion-icon></div>
						<div *ngIf="menu[o].name.length < 28">
							<div class="optionName">{{menu[o].name}}</div>
						</div>
						<div *ngIf="menu[o].name.length >= 28">
							<div class="optionNameSmall">{{menu[o].name}}</div>
						</div>
						<div class="optionPrice">+${{menu[o].price.toFixed(2)}}</div>
					</div>
				</div>
			</div>
		</div>
		<div *ngIf="os.radio === 1 || os.radio === 2">
			<div *ngIf="os.radio === 1">
				<div class="optionBox" (click)="addOption('', os.radio, os.order);" style="padding-bottom:15px; font-size:150%; font-family:'Lato-Bold';">
					Clear
				</div>
			</div>
			<div *ngFor="let o of os.itemIds">
				<div *ngIf="indexOfOption(o) !== -1">
					<div class="optionBox optionBoxActive" (click)="addOption(o, os.radio, os.order);">
						<div class="optionIcon optionIconActive"><ion-icon name="radio-button-on"></ion-icon></div>
						<div *ngIf="menu[o].name.length < 28">
							<div class="optionName">{{menu[o].name}}</div>
						</div>
						<div *ngIf="menu[o].name.length >= 28">
							<div class="optionNameSmall">{{menu[o].name}}</div>
						</div>
						<div class="optionPrice">+${{menu[o].price.toFixed(2)}}</div>
					</div>
				</div>
				<div *ngIf="indexOfOption(o) === -1">
					<div class="optionBox" (click)="addOption(o, os.radio, os.order);">
						<div class="optionIcon"><ion-icon name="radio-button-off"></ion-icon></div>
						<div *ngIf="menu[o].name.length < 28">
							<div class="optionName">{{menu[o].name}}</div>
						</div>
						<div *ngIf="menu[o].name.length >= 28">
							<div class="optionNameSmall">{{menu[o].name}}</div>
						</div>
						<div class="optionPrice">+${{menu[o].price.toFixed(2)}}</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<hr style="margin-top:20px;">
	<div class="messageArea">
		<div class="messageLabel">
			Add a message to the chef
		</div>
		<input type="text" class="messageBox" [(ngModel)]="message">
	</div>
</ion-content>

<ion-footer>
	<div class="cartButton" (click)="backToMenu()">
		{{cartText}}
	</div>
</ion-footer>
